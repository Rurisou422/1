import React, { useState } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import KmboxBProGuide from './KmboxBProGuide';

// Define the guide data structure
type Guide = {
  id: string;
  title: string;
  subtitle: string;
  content: React.ReactNode;
  category: 'flash' | 'troubleshooting';
  image?: string;
};

// Guide Item Component
const GuideItem: React.FC<{ guide: Guide }> = ({ guide }) => {
  const [isExpanded, setIsExpanded] = useState(false);
  
  return (
    <div className="guide-item">
      <motion.div 
        className="bg-black/90 backdrop-blur-sm rounded-lg overflow-hidden border border-gray-700/60 shadow-[0_4px_20px_rgba(0,0,0,0.7)] hover:shadow-[0_4px_20px_rgba(255,215,0,0.1)]"
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.5 }}
        whileHover={{ 
          borderColor: guide.category === 'flash' ? 'rgba(255, 215, 0, 0.3)' : guide.category === 'troubleshooting' ? 'rgba(0, 191, 255, 0.3)' : 'rgba(168, 85, 247, 0.3)', 
          transition: { duration: 0.2 } 
        }}
      >
        <motion.div 
          className="px-5 py-4 cursor-pointer flex justify-between items-center"
          onClick={() => setIsExpanded(!isExpanded)}
          whileHover={{ backgroundColor: 'rgba(20, 20, 20, 0.7)' }}
        >
          <div>
            <h2 className="text-xl font-medium mb-0.5 text-white">{guide.title}</h2>
            <p className="text-gray-400 text-sm font-medium">{guide.subtitle}</p>
          </div>
          <div className="ml-4 flex-shrink-0">
            <motion.div 
              animate={{ rotate: isExpanded ? 180 : 0 }}
              transition={{ duration: 0.3 }}
              className={`p-1.5 rounded-full ${isExpanded ? 'bg-black/40' : ''}`}
            >
              <svg xmlns="http://www.w3.org/2000/svg" className={`h-6 w-6 ${guide.category === 'flash' ? 'text-yellow-400' : guide.category === 'troubleshooting' ? 'text-cyan-400' : 'text-purple-400'}`} fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M19 9l-7 7-7-7" />
              </svg>
            </motion.div>
          </div>
        </motion.div>
        
        <AnimatePresence>
          {isExpanded && (
            <motion.div
              initial={{ opacity: 0, height: 0 }}
              animate={{ opacity: 1, height: "auto" }}
              exit={{ opacity: 0, height: 0 }}
              transition={{ duration: 0.3 }}
              className="overflow-hidden scrollable-content"
            >
              <div className="px-5 py-4">
                <div className="prose prose-invert prose-sm max-w-none">
                  {guide.content}
                  
                  {guide.image && (
                    <div className="mt-4 flex justify-center">
                      <img 
                        src={guide.image} 
                        alt={guide.title} 
                        className="rounded-md border border-gray-800/50 shadow-lg max-w-full hover:shadow-[0_0_15px_rgba(0,0,0,0.5)]"
                      />
                    </div>
                  )}
                </div>
              </div>
            </motion.div>
          )}
        </AnimatePresence>
      </motion.div>
    </div>
  );
};

// Game Settings UI Component
const GameSettingsUI: React.FC<{ onBack: () => void }> = ({ onBack }) => {
  const [selectedSection, setSelectedSection] = useState<
    | 'basics'
    | 'hardware_gaming_pc'
    | 'hardware_2nd_pc'
    | 'testing_2nd_pc'
    | 'dma_card'
    | 'fuser_setup'
    | 'edid_spoofing'
    | 'kmbox_setup'
    | 'kmbox_net'
    | 'kmbox_bplus'
    | 'development'
    | 'firmwares'
    | 'requirements'
  >('basics');

  return (
    <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/90">
      <div className="relative w-full max-w-5xl">
        {/* Fullscreen backdrop with faint image */}
        <div className="absolute inset-0 bg-[url('/images/forest-bg.jpg')] bg-cover bg-center opacity-20 blur-sm"></div>
        
        {/* Floating particles */}
        <div className="absolute inset-0 overflow-hidden">
          {[...Array(20)].map((_, i) => (
            <div 
              key={i}
              className="absolute h-1 w-1 bg-white rounded-full opacity-60"
              style={{
                top: `${Math.random() * 100}%`,
                left: `${Math.random() * 100}%`,
                animation: `pulse ${2 + Math.random() * 4}s infinite ease-in-out`,
                animationDelay: `${Math.random() * 5}s`
              }}
            ></div>
          ))}
        </div>
        
        {/* Content container */}
        <div className="relative mx-auto w-full h-[80vh] bg-black/60 backdrop-blur-sm overflow-hidden p-4">
          
          {/* Title positioned left like in screenshot */}
          <div className="mb-8 pt-4">
            <h1 className="text-2xl font-light tracking-[0.3em] text-white uppercase">{selectedSection}</h1>
            <div className="flex items-center mt-1">
              <div className="h-[1px] w-20 bg-gradient-to-r from-white/60 to-transparent"></div>
              <div className="mx-4">
                <svg width="10" height="10" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 4L10.5 9.5H3.5L9 13L7.5 19L12 15.5L16.5 19L15 13L20.5 9.5H13.5L12 4Z" fill="rgba(255,255,255,0.5)" stroke="rgba(255,255,255,0.8)" strokeWidth="0.5" />
                </svg>
              </div>
              <div className="h-[1px] w-40 bg-gradient-to-r from-white/60 to-transparent"></div>
            </div>
          </div>

          {/* Two-column layout */}
          <div className="w-full grid grid-cols-1 md:grid-cols-4 gap-2">
            {/* Left menu */}
            <div className="md:col-span-1">
              <div className="space-y-2">
                {/* BASICS section with its subsections */}
                <div>
                  <div 
                    className={`py-1 cursor-pointer text-xs font-light tracking-[0.2em] transition-colors ${
                      selectedSection === 'basics' || selectedSection === 'hardware_gaming_pc' || selectedSection === 'hardware_2nd_pc' || selectedSection === 'testing_2nd_pc'
                        ? 'text-white' 
                        : 'text-gray-500 hover:text-gray-300'
                    }`}
                    onClick={() => setSelectedSection('basics')}
                  >
                    <span className="text-sm font-medium">BASICS</span>
                  </div>

                  {/* Collapsible subsections for BASICS */}
                  {(selectedSection === 'basics' || selectedSection === 'hardware_gaming_pc' || selectedSection === 'hardware_2nd_pc' || selectedSection === 'testing_2nd_pc') && (
                    <div className="pl-3 mt-1 space-y-1 border-l border-gray-700/30">
                      <div 
                        className={`py-1 cursor-pointer text-xs font-light tracking-[0.1em] transition-colors flex items-center ${
                          selectedSection === 'hardware_gaming_pc' 
                            ? 'text-white' 
                            : 'text-gray-500 hover:text-gray-300'
                        }`}
                        onClick={() => setSelectedSection('hardware_gaming_pc')}
                      >
                        <span className="w-3 text-center">≡</span>
                        <span className="text-xs">Hardware Setup Gaming PC</span>
                      </div>
                      <div 
                        className={`py-1 cursor-pointer text-xs font-light tracking-[0.1em] transition-colors flex items-center ${
                          selectedSection === 'hardware_2nd_pc' 
                            ? 'text-white' 
                            : 'text-gray-500 hover:text-gray-300'
                        }`}
                        onClick={() => setSelectedSection('hardware_2nd_pc')}
                      >
                        <span className="w-3 text-center">≡</span>
                        <span className="text-xs">Hardware Setup 2nd PC</span>
                      </div>
                      <div 
                        className={`py-1 cursor-pointer text-xs font-light tracking-[0.1em] transition-colors flex items-center ${
                          selectedSection === 'testing_2nd_pc' 
                            ? 'text-white' 
                            : 'text-gray-500 hover:text-gray-300'
                        }`}
                        onClick={() => setSelectedSection('testing_2nd_pc')}
                      >
                        <span className="w-3 text-center">≡</span>
                        <span className="text-xs">Testing (2nd PC)</span>
                      </div>
                    </div>
                  )}
                </div>
                
                {/* DMA CARD section */}
                <div>
                  <div 
                    className={`py-1 cursor-pointer text-xs font-light tracking-[0.2em] transition-colors ${
                      selectedSection === 'dma_card'
                        ? 'text-white' 
                        : 'text-gray-500 hover:text-gray-300'
                    }`}
                    onClick={() => setSelectedSection('dma_card')}
                  >
                    <span className="text-sm font-medium">DMA CARD</span>
                  </div>
                </div>
                
                {/* FUSER SETUP section with its subsections */}
                <div>
                  <div 
                    className={`py-1 cursor-pointer text-xs font-light tracking-[0.2em] transition-colors ${
                      selectedSection === 'fuser_setup' || selectedSection === 'edid_spoofing'
                        ? 'text-white' 
                        : 'text-gray-500 hover:text-gray-300'
                    }`}
                    onClick={() => setSelectedSection('fuser_setup')}
                  >
                    <span className="text-sm font-medium">FUSER SETUP</span>
                  </div>

                  {/* Collapsible subsections for FUSER SETUP */}
                  {(selectedSection === 'fuser_setup' || selectedSection === 'edid_spoofing') && (
                    <div className="pl-3 mt-1 space-y-1 border-l border-gray-700/30">
                      <div 
                        className={`py-1 cursor-pointer text-xs font-light tracking-[0.1em] transition-colors flex items-center ${
                          selectedSection === 'fuser_setup'
                            ? 'text-white' 
                            : 'text-gray-500 hover:text-gray-300'
                        }`}
                        onClick={() => setSelectedSection('fuser_setup')}
                      >
                        <span className="w-3 text-center">≡</span>
                        <span className="text-xs">Fuser Configuration</span>
                      </div>
                      <div 
                        className={`py-1 cursor-pointer text-xs font-light tracking-[0.1em] transition-colors flex items-center ${
                          selectedSection === 'edid_spoofing' 
                            ? 'text-white' 
                            : 'text-gray-500 hover:text-gray-300'
                        }`}
                        onClick={() => setSelectedSection('edid_spoofing')}
                      >
                        <span className="w-3 text-center">≡</span>
                        <span className="text-xs">EDID Spoofing</span>
                      </div>
                    </div>
                  )}
                </div>
                
                {/* KMBOX SETUP section with its subsections */}
                <div>
                  <div 
                    className={`py-1 cursor-pointer text-xs font-light tracking-[0.2em] transition-colors ${
                      selectedSection === 'kmbox_setup' || selectedSection === 'kmbox_net' || selectedSection === 'kmbox_bplus'
                        ? 'text-white' 
                        : 'text-gray-500 hover:text-gray-300'
                    }`}
                    onClick={() => setSelectedSection('kmbox_setup')}
                  >
                    <span className="text-sm font-medium">KMBOX SETUP</span>
                  </div>

                  {/* Collapsible subsections for KMBOX SETUP */}
                  {(selectedSection === 'kmbox_setup' || selectedSection === 'kmbox_net' || selectedSection === 'kmbox_bplus') && (
                    <div className="pl-3 mt-1 space-y-1 border-l border-gray-700/30">
                      <div 
                        className={`py-1 cursor-pointer text-xs font-light tracking-[0.1em] transition-colors flex items-center ${
                          selectedSection === 'kmbox_net' 
                            ? 'text-white' 
                            : 'text-gray-500 hover:text-gray-300'
                        }`}
                        onClick={() => setSelectedSection('kmbox_net')}
                      >
                        <span className="w-3 text-center">≡</span>
                        <span className="text-xs">KMBOX NET</span>
                      </div>
                      <div 
                        className={`py-1 cursor-pointer text-xs font-light tracking-[0.1em] transition-colors flex items-center ${
                          selectedSection === 'kmbox_bplus' 
                            ? 'text-white' 
                            : 'text-gray-500 hover:text-gray-300'
                        }`}
                        onClick={() => setSelectedSection('kmbox_bplus')}
                      >
                        <span className="w-3 text-center">≡</span>
                        <span className="text-xs">KMBOX B+</span>
                      </div>
                    </div>
                  )}
                </div>
                
                {/* DEVELOPMENT section */}
                <div>
                  <div 
                    className={`py-1 cursor-pointer text-xs font-light tracking-[0.2em] transition-colors ${
                      selectedSection === 'development'
                        ? 'text-white' 
                        : 'text-gray-500 hover:text-gray-300'
                    }`}
                    onClick={() => setSelectedSection('development')}
                  >
                    <span className="text-sm font-medium">DEVELOPMENT</span>
                  </div>
                </div>
                
                {/* FIRMWARES section */}
                <div>
                  <div 
                    className={`py-1 cursor-pointer text-xs font-light tracking-[0.2em] transition-colors ${
                      selectedSection === 'firmwares'
                        ? 'text-white' 
                        : 'text-gray-500 hover:text-gray-300'
                    }`}
                    onClick={() => setSelectedSection('firmwares')}
                  >
                    <span className="text-sm font-medium">FIRMWARES</span>
                  </div>
                </div>
              </div>
            </div>
            
            {/* Right content area */}
            <div className="md:col-span-3 overflow-y-auto max-h-[60vh] pr-4">
              <div className="prose prose-invert max-w-none">
                {selectedSection === 'basics' && (
                  <div className="space-y-6 text-gray-300 leading-relaxed font-light">
                    <div className="flex items-center gap-2 mb-4">
                      <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-white/70" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                      </svg>
                      <h2 className="text-lg font-light tracking-wider text-white">Hardware Setup</h2>
                    </div>
                    
                    <p className="text-sm">
                      Select a hardware setup guide from the menu on the left:
                    </p>

                    <ul className="list-none space-y-3 mt-6 pl-0">
                      <li className="flex items-center gap-3">
                        <div className="w-2 h-2 border border-white/50 rounded-full"></div>
                        <a 
                          className="text-sm text-white hover:text-gray-300 cursor-pointer"
                          onClick={() => setSelectedSection('hardware_gaming_pc')}
                        >
                          Hardware Setup Gaming PC
                        </a>
                  </li>
                      <li className="flex items-center gap-3">
                        <div className="w-2 h-2 border border-white/50 rounded-full"></div>
                        <a 
                          className="text-sm text-white hover:text-gray-300 cursor-pointer"
                          onClick={() => setSelectedSection('hardware_2nd_pc')}
                        >
                          Hardware Setup 2nd PC
                        </a>
                  </li>
                      <li className="flex items-center gap-3">
                        <div className="w-2 h-2 border border-white/50 rounded-full"></div>
                        <a 
                          className="text-sm text-white hover:text-gray-300 cursor-pointer"
                          onClick={() => setSelectedSection('testing_2nd_pc')}
                        >
                          Testing (2nd PC)
                        </a>
                  </li>
                    </ul>
                  </div>
                )}

                {selectedSection === 'hardware_gaming_pc' && (
                  <div className="space-y-6 text-gray-300 leading-relaxed font-light">
                    <div className="flex items-center gap-2 mb-4">
                      <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-white/70" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                      </svg>
                      <h2 className="text-lg font-light tracking-wider text-white">Hardware Setup (Game PC)</h2>
                    </div>
                    
                    <ol className="list-none space-y-4 ml-0">
                      <li className="flex gap-2">
                        <span className="text-white/80 font-light">1.</span>
                        <span>Power off your main PC.</span>
                  </li>
                      
                      <li className="flex gap-2">
                        <span className="text-white/80 font-light">2.</span>
                        <span>Plug the board into your main PC. (Any PCI-e slot)</span>
                  </li>
                      
                      <div className="ml-6 my-4">
                        <div className="rounded border border-white/10 p-4 bg-black/30 max-w-[500px]">
                          <img 
                            src="/images/BASICS Section.avif" 
                            alt="PCI-e Slots Diagram" 
                            className="max-w-full h-auto"
                />
              </div>
            </div>
            
                      <li className="flex gap-2">
                        <span className="text-white/80 font-light">3.</span>
                        <span>Connect your DMA Card via the Data Port to your Radar PC (2nd PC), using the provided USB Cable (and any USB adapters necessary for different USB Types).</span>
                      </li>
                      
                      <li className="flex gap-2">
                        <span className="text-white/80 font-light">4.</span>
                        <span>Power on your main PC and enter the BIOS settings.</span>
                  </li>
                      
                      <li className="flex gap-2 items-start">
                        <span className="text-white/80 font-light">5.</span>
                        <div>
                          <span>Disable/Adjust the following Settings on Game PC System BIOS:</span>
                          <p className="mt-2">We primarily need to disable Virtualization on your system, since this can interfere with DMA Memory Reading. Disable any Virtualization settings in your System BIOS.</p>
                          
                          <ul className="list-disc ml-5 mt-3 space-y-2">
                            <li>
                              <p>On Intel CPU Motherboards this will usually be listed as:</p>
                              <p className="ml-3">- Virtualization / IOMMU</p>
                              <p className="ml-3">- VT-d</p>
                  </li>
                            
                            <li>
                              <p>On AMD CPU Motherboards this will usually be listed as:</p>
                              <p className="ml-3">- Virtualization / IOMMU</p>
                              <p className="ml-3">- SVM</p>
                  </li>
                            
                            <li>Disable NX-Bit (Only if available. If you can't find it skip this step)</li>
                            
                            <li>If needed set PCI Slot of DMA Card from Auto to Gen1 (Advanced {'>'} PCI Settings)</li>
                          </ul>
                        </div>
                  </li>
                      
                      <li className="flex gap-2 items-start">
                        <span className="text-white/80 font-light">6.</span>
                        <div>
                          <span>Make sure Memory Integrity / Core Isolation is Off on your Game PC. This may be unavailable/already disabled on some systems, so if you cannot get this page to load, you are likely already good to go. See Device protection in Windows Security - Microsoft Support</span>
                        </div>
                  </li>
                </ol>
              </div>
                )}

                {selectedSection === 'hardware_2nd_pc' && (
                  <div className="space-y-6 text-gray-300 leading-relaxed font-light">
                    <div className="flex items-center gap-2 mb-4">
                      <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-white/70" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                      </svg>
                      <h2 className="text-lg font-light tracking-wider text-white">FTDI Driver Setup (2nd PC)</h2>
                    </div>
                    
                    <p className="text-sm italic text-gray-400 mb-4">
                      These steps will install the FTDI Driver on your Radar PC. See the screenshot below to see if you have the driver already installed. If already installed you can skip to Testing.
                    </p>
                    
                    <ol className="list-none space-y-4 ml-0">
                      <li className="flex gap-2">
                        <span className="text-white/80 font-light">1.</span>
                        <span>These steps will install the FTDI Driver on your Radar PC. See the screenshot below to see if you have the driver already installed. If already installed you can skip to Testing.</span>
                      </li>
                      
                      <li className="flex gap-2">
                        <span className="text-white/80 font-light">2.</span>
                        <span>You can launch Device Manager from the Search Box in the Start Menu.</span>
                      </li>
                      
                      <div className="ml-6 my-4">
                        <div className="rounded border border-white/10 p-4 bg-black/30">
                          <img 
                            src="/images/Hardware Setup 2nd.png" 
                            alt="Device Manager with FTDI Driver" 
                            className="max-w-full h-auto"
                          />
                        </div>
              </div>
              
                      <li className="flex gap-2">
                        <span className="text-white/80 font-light">3.</span>
                        <span>Download the Windows x64 Driver from <a href="https://ftdichip.com/drivers/d3xx-drivers/" target="_blank" rel="noopener noreferrer" className="text-blue-400 hover:text-blue-300 underline">https://ftdichip.com/drivers/d3xx-drivers/</a>, and unzip it.</span>
                      </li>
                      
                      <li className="flex gap-2">
                        <span className="text-white/80 font-light">4.</span>
                        <span>Right-Click on the FTDI Device in Device Manager → Click <strong>Update Driver</strong> → Click <strong>Browse my computer for drivers</strong> → Navigate to the unzipped folder into the x64\\Win10 directory → Click <strong>OK</strong> → Hit <strong>Next</strong>.</span>
                      </li>
                      
                      <li className="flex gap-2 items-start">
                        <span className="text-white/80 font-light">5.</span>
                        <span>The Driver should now be installed.</span>
                      </li>
                    </ol>
            </div>
                )}

                {selectedSection === 'testing_2nd_pc' && (
                  <div className="space-y-6 text-gray-300 leading-relaxed font-light">
                    <div className="flex items-center gap-2 mb-4">
                      <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-white/70" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                      </svg>
                      <h2 className="text-lg font-light tracking-wider text-white">Testing (2nd PC)</h2>
          </div>
                    
                    <h3 className="text-base font-medium text-white mt-4 mb-2">DMA Speed Test</h3>
                    
                    <ol className="list-none space-y-4 ml-0">
                      <li className="flex gap-2">
                        <span className="text-white/80 font-light">1.</span>
                        <span>Download the <a href="https://mega.nz/file/mzJxGQBB#tvKWMwKbYCKSrtcbbz0DY7WsaiSbt_XBfYyV1SIZMsI" target="_blank" rel="noopener noreferrer" className="text-blue-400 hover:text-blue-300 underline">DMA Speed Test</a> tool.</span>
                      </li>
                      
                      <li className="flex gap-2">
                        <span className="text-white/80 font-light">2.</span>
                        <span>Run the test tool on your 2nd (Radar) PC.</span>
                      </li>
                      
                      <li className="flex gap-2">
                        <span className="text-white/80 font-light">3.</span>
                        <span>Run the Full Test.</span>
                </li>
                    </ol>
                    
                    <h3 className="text-base font-medium text-white mt-6 mb-2">Speed Test Results:</h3>
                    
                    <ul className="list-none space-y-2 ml-0">
                      <li className="flex items-center gap-2">
                        <span className="text-white/90">•</span>
                        <span>{'<'} 4000 = Low</span>
                </li>
                      <li className="flex items-center gap-2">
                        <span className="text-white/90">•</span>
                        <span>4000+ = Warning</span>
                </li>
                      <li className="flex items-center gap-2">
                        <span className="text-white/90">•</span>
                        <span>5200+ = Good</span>
                </li>
                      <li className="flex items-center gap-2">
                        <span className="text-white/90">•</span>
                        <span>6500+ = Amazing</span>
                </li>
                      <li className="flex items-center gap-2">
                        <span className="text-white/90">•</span>
                        <span>7500+ = Elite</span>
                      </li>
                    </ul>
                    
                    <h3 className="text-base font-medium text-white mt-6 mb-2">Throughput Test Results:</h3>
                    
                    <ul className="list-none space-y-2 ml-0">
                      <li className="flex items-center gap-2">
                        <span className="text-white/90">•</span>
                        <span>{'<'}125 = Low</span>
                      </li>
                      <li className="flex items-center gap-2">
                        <span className="text-white/90">•</span>
                        <span>125+ = Warning</span>
                      </li>
                      <li className="flex items-center gap-2">
                        <span className="text-white/90">•</span>
                        <span>150+ = Good</span>
                      </li>
                      <li className="flex items-center gap-2">
                        <span className="text-white/90">•</span>
                        <span>200+ = Amazing</span>
                      </li>
                      <li className="flex items-center gap-2">
                        <span className="text-white/90">•</span>
                        <span>220+ = Elite</span>
                      </li>
                    </ul>
                    
                    <div className="mt-2 flex gap-2 items-start">
                      <span className="text-white/80 font-light">5.</span>
                      <span>If there are any issues, please see the <span className="text-blue-400 cursor-pointer" onClick={() => setSelectedSection('troubleshooting')}>DMA Troubleshooting</span> section before messaging support.</span>
            </div>
            
                    <div className="ml-6 my-6">
                      <div className="rounded border border-white/10 p-4 bg-black/30">
                        <img 
                          src="/images/Test.png" 
                          alt="DMA Test Tool Interface" 
                          className="max-w-full h-auto"
              />
            </div>
                    </div>
                  </div>
                )}

                {selectedSection === 'fuser_setup' && (
                  <div className="space-y-6 text-gray-300 leading-relaxed font-light">
                    <div className="flex items-center gap-2 mb-4">
                      <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-white/70" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                      </svg>
                      <h2 className="text-xl font-medium tracking-wider text-white">Fuser Setup</h2>
          </div>
          
                    <div className="space-y-6 pl-0 mt-6">
                      <div className="border-b border-gray-800/40 pb-5">
                        <h3 className="text-lg font-medium text-white mb-3">Step 1: Initial Setup</h3>
                        <ol className="list-none space-y-2">
                          <li className="flex gap-2">
                            <span className="text-white/80 font-light">1.</span>
                            <span>Disconnect all displays except for the main monitor.</span>
                </li>
                          <li className="flex gap-2">
                            <span className="text-white/80 font-light">2.</span>
                            <span>Connect the main monitor to the Fuser (not directly to the GPU).</span>
                </li>
                          <li className="flex gap-2">
                            <span className="text-white/80 font-light">3.</span>
                            <span>Ensure all HDMI cables connected to the Fuser are HDMI 2.0.</span>
                </li>
                        </ol>
                      </div>
                      
                      <div className="border-b border-gray-800/40 pb-5">
                        <h3 className="text-lg font-medium text-white mb-3">Step 2: Configure Display Settings</h3>
                        <p className="text-white/70 mb-2">On Both PCs:</p>
                        <ol className="list-none space-y-2 ml-3">
                          <li className="flex gap-2">
                            <span className="text-white/80 font-light">1.</span>
                            <span>Right-click on an empty area of the desktop.</span>
                </li>
                          <li className="flex gap-2">
                            <span className="text-white/80 font-light">2.</span>
                            <span>Select Display Settings.</span>
                </li>
                          <li className="flex gap-2">
                            <span className="text-white/80 font-light">3.</span>
                            <span>Scroll down to the Multiple displays section and select Extend these displays.</span>
                </li>
              </ol>
                        
                        <p className="text-white/70 mb-2 mt-4">On the 2nd PC:</p>
                        <ol className="list-none space-y-2 ml-3">
                          <li className="flex gap-2">
                            <span className="text-white/80 font-light">1.</span>
                            <span>Go to Start &gt; Settings &gt; Personalization &gt; Background/Wallpaper.</span>
                          </li>
                          <li className="flex gap-2">
                            <span className="text-white/80 font-light">2.</span>
                            <span>Under Personalize your background, select Solid Color and choose Black.</span>
                </li>
              </ol>
                        
                        <div className="mt-3 mb-2">
                          <p className="text-white/70 mb-2">Example:</p>
                          <div className="rounded border border-white/10 p-2 bg-black/30 max-w-md">
                            <img 
                              src="/images/FuserGuide.png" 
                              alt="Fuser Background Example" 
                              className="max-w-full h-auto"
                            />
                          </div>
                        </div>
                      
                      <div className="border-b border-gray-800/40 pb-5">
                        <h3 className="text-lg font-medium text-white mb-3">Step 3: Reconnect Cables to the Fuser</h3>
                        <ol className="list-none space-y-2">
                          <li className="flex gap-2">
                            <span className="text-white/80 font-light">1.</span>
                            <span>Ensure all three HDMI 2.0 cables are connected to the Fuser.</span>
                          </li>
                          <li className="flex gap-2">
                            <span className="text-white/80 font-light">2.</span>
                            <span>Make sure the monitor is no longer directly connected to the GPU.</span>
                          </li>
                        </ol>
                      </div>
                      
                      <div className="border-b border-gray-800/40 pb-5">
                        <h3 className="text-lg font-medium text-white mb-3">Troubleshooting</h3>
                        <ol className="list-none space-y-4">
                          <li className="flex gap-2 items-start">
                            <span className="text-white/80 font-light">1.</span>
                            <div>
                              <span className="font-medium">Desktop Apps Are Merged / Two Search Bars Visible</span>
                              <p className="mt-1 text-gray-400">
                                • Press K2 (Main Screen Mode) when no overlay is active.
                              </p>
                            </div>
                          </li>
                          <li className="flex gap-2 items-start">
                            <span className="text-white/80 font-light">2.</span>
                            <div>
                              <span className="font-medium">Second Monitor Shows 'No Signal'</span>
                              <p className="mt-1 text-gray-400">
                                • Ensure the 2nd monitor is turned on.<br />
                                • The 2nd monitor should be connected to its respective PC, not the Fuser.
                              </p>
                            </div>
                          </li>
                          <li className="flex gap-2 items-start">
                            <span className="text-white/80 font-light">3.</span>
                            <div>
                              <span className="font-medium">Refresh Rate Issues (Limited to 60Hz or 90Hz)</span>
                              <p className="mt-1 text-gray-400">
                                • This indicates not all HDMI cables are HDMI 2.0.<br />
                                • Use three HDMI 2.0 cables for the Fuser setup.
                              </p>
                            </div>
                          </li>
                        </ol>
                      </div>
                      
                      <div className="mt-5">
                        <h3 className="text-lg font-medium text-white mb-3">Important Notes</h3>
                        <ul className="list-disc pl-5 space-y-2 text-gray-300">
                          <li>The Fuser requires 3 HDMI 2.0 cables for full functionality.</li>
                          <li>Once set up correctly, switching modes (K1/K2/K3) will allow seamless integration between both PCs.</li>
                        </ul>
                      </div>
                    </div>
                  </div>
                )}

                {selectedSection === 'requirements' && (
                  <div className="space-y-6 text-gray-300 leading-relaxed font-light">
                    {/* Empty REQUIREMENTS section - content will be added step by step */}
                    <ul className="list-none space-y-3 pl-0">
                      {/* Requirements list will be added here */}
                    </ul>
                  </div>
                )}

                {selectedSection === 'edid_spoofing' && (
                  <div className="space-y-6 text-gray-300 leading-relaxed font-light">
                    <div className="flex items-center gap-2 mb-4">
                      <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-white/70" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                      </svg>
                      <h2 className="text-xl font-medium tracking-wider text-white">EDID Spoofing</h2>
                    </div>
                    
                    <p className="text-sm italic text-gray-400 mb-4">
                      Note: Our latest fusers no longer include a USB-C port and do not require EDID spoofing.
                    </p>
                    
                    <div className="space-y-6 pl-0">
                      <div className="border-b border-gray-800/40 pb-5">
                        <h3 className="text-lg font-medium text-white mb-3">Step 1: Obtain the EDID of the Main Monitor</h3>
                        <ol className="list-none space-y-4">
                          <li className="flex gap-2 items-start">
                            <span className="text-white/80 font-light">1.</span>
                            <div>
                              <span className="font-medium">Install MonitorAssetManager:</span>
                              <p className="mt-1">Download and install the software named MonitorAssetManager (<a href="https://www.ducks-services.com/applications/core/interface/file/attachment.php?id=1687&key=886ad4dcd057dab466bee6834dd668de" target="_blank" rel="noopener noreferrer" className="text-blue-400 hover:underline">mi_setup.exe</a>). After installation, run <span className="text-blue-400">MonInfo.exe</span>.</p>
                            </div>
                          </li>
                          
                          <li className="flex gap-2 items-start">
                            <span className="text-white/80 font-light">2.</span>
                            <div>
                              <span className="font-medium">Save the EDID File:</span>
                              <ul className="list-none space-y-1 mt-1 ml-1">
                <li className="flex items-start">
                                  <span className="text-white/90 mr-2">•</span>
                                  <span>Open <span className="text-blue-400">MonInfo.exe</span> and select the first monitor listed.</span>
                </li>
                <li className="flex items-start">
                                  <span className="text-white/90 mr-2">•</span>
                                  <span>Go to <span className="text-blue-400">File</span> and choose <span className="text-blue-400">Save as...</span></span>
                </li>
                <li className="flex items-start">
                                  <span className="text-white/90 mr-2">•</span>
                                  <span>Select a location to save the file and save it as an EDID Bin file.</span>
                </li>
                              </ul>
                            </div>
                          </li>
                        </ol>
                      </div>
                      
                      <div className="border-b border-gray-800/40 pb-5">
                        <h3 className="text-lg font-medium text-white mb-3">Step 2: Inject the EDID into the HDMI Synthesizer</h3>
                        <ol className="list-none space-y-4">
                          <li className="flex gap-2 items-start">
                            <span className="text-white/80 font-light">1.</span>
                            <div>
                              <span className="font-medium">Connect the Synthesizer Device:</span>
                              <ul className="list-none space-y-1 mt-1 ml-1">
                <li className="flex items-start">
                                  <span className="text-white/90 mr-2">•</span>
                                  <span>With the EDID Bin file saved, connect one end of a Type-C cable to the HDMI device's Type-C port.</span>
                </li>
                <li className="flex items-start">
                                  <span className="text-white/90 mr-2">•</span>
                                  <span>Connect the other end of the cable to the USB port of the computer where the Bin file is saved.</span>
                </li>
                <li className="flex items-start">
                                  <span className="text-white/90 mr-2">•</span>
                                  <span>Plug the synthesizer device into a power source and turn it on.</span>
                </li>
                              </ul>
            </div>
                          </li>
                          
                          <li className="flex gap-2 items-start">
                            <span className="text-white/80 font-light">2.</span>
                            <div>
                              <span className="font-medium">Open the Injection Tool:</span>
                              <p className="mt-1">Download and launch the <a href="https://www.ducks-services.com/applications/core/interface/file/attachment.php?id=1686&key=811e997101c8e105338b977d25392982" target="_blank" rel="noopener noreferrer" className="text-blue-400 hover:underline">EDID Injection</a> tool. (Note: If your system lacks Chinese language support, some text may display as '???', but this is not a problem.)</p>
                            </div>
                          </li>
                        </ol>
            
            <div className="mt-4 mb-2">
              <img 
                            src="/images/EDID Spoofing Fuser.png" 
                            alt="EDID Injection Tool" 
                            className="max-w-full h-auto border border-gray-700 rounded"
                          />
                        </div>
            </div>
            
                      <div className="border-b border-gray-800/40 pb-5">
                        <h3 className="text-lg font-medium text-white mb-3">Step 3: Perform the Injection:</h3>
                        <ol className="list-none space-y-2">
                          <li className="flex gap-2 items-start">
                            <span className="text-white/80 font-light">1.</span>
                            <span>Select the serial port number in the tool (this can be found in the Device Manager).</span>
                          </li>
                          <li className="flex gap-2 items-start">
                            <span className="text-white/80 font-light">2.</span>
                            <span>Choose the appropriate injection location based on your main monitor's resolution.</span>
                          </li>
                          <li className="flex gap-2 items-start">
                            <span className="text-white/80 font-light">3.</span>
                            <span>Select the 'Load Parameter File' injection method.</span>
                          </li>
                          <li className="flex gap-2 items-start">
                            <span className="text-white/80 font-light">4.</span>
                            <span>Choose the previously saved Bin file as the parameter file.</span>
                          </li>
                          <li className="flex gap-2 items-start">
                            <span className="text-white/80 font-light">5.</span>
                            <span>Click on <strong>Inject Parameters</strong> and wait for the process to complete. The screen may go black during the injection. Once the injection is successful, a prompt will appear.</span>
                          </li>
                        </ol>
          </div>
          
                      <div className="border-b border-gray-800/40 pb-5">
                        <h3 className="text-lg font-medium text-white mb-3">Step 4: Finalize the Connection:</h3>
                        <ol className="list-none space-y-2">
                          <li className="flex gap-2 items-start">
                            <span className="text-white/80 font-light">•</span>
                            <span>After a successful injection, disconnect the Type-C cable.</span>
                          </li>
                          <li className="flex gap-2 items-start">
                            <span className="text-white/80 font-light">•</span>
                            <span>Connect your computer to the monitor using an HDMI cable.</span>
                          </li>
                        </ol>
                      </div>
                      
                      <div className="mt-5">
                        <h3 className="text-lg font-medium text-white mb-3">Step 5: Set Up the Monitor</h3>
                        <ol className="list-none space-y-4">
                          <li className="flex gap-2 items-start">
                            <span className="text-white/80 font-light">1.</span>
                            <div>
                              <span className="font-medium">Adjust Display Settings:</span>
                              <ul className="list-none space-y-1 mt-1 ml-1">
                <li className="flex items-start">
                                  <span className="text-white/90 mr-2">•</span>
                                  <span>Right-click on the desktop and select <span className="text-blue-400">Display Settings</span>.</span>
                </li>
                <li className="flex items-start">
                                  <span className="text-white/90 mr-2">•</span>
                                  <span>Verify that the resolution is correct.</span>
                </li>
                <li className="flex items-start">
                                  <span className="text-white/90 mr-2">•</span>
                                  <span>Scroll down to <span className="text-blue-400">Advanced Display Settings</span>.</span>
                </li>
                <li className="flex items-start">
                                  <span className="text-white/90 mr-2">•</span>
                                  <span>Select the monitor (it should be the model into which you just injected the EDID).</span>
                </li>
                <li className="flex items-start">
                                  <span className="text-white/90 mr-2">•</span>
                                  <span>Set the refresh rate to the optimal value for your monitor.</span>
                </li>
                              </ul>
                            </div>
                </li>
              </ol>
            </div>
            
                      <div className="mt-6">
                        <h3 className="text-lg font-medium text-white mb-3">Important Notes</h3>
                        <ul className="list-disc pl-5 space-y-2 text-gray-300">
                          <li>The Fuser requires 3 HDMI 2.0 cables for full functionality.</li>
                          <li>Once set up correctly, switching modes (K1/K2/K3) will allow seamless integration between both PCs.</li>
                        </ul>
            </div>
          </div>
        </div>
                )}

                {selectedSection === 'kmbox_setup' && (
                  <div className="space-y-6 text-gray-300 leading-relaxed font-light">
                    <div className="flex items-center gap-2 mb-4">
                      <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-white/70" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
                      </svg>
                      <h2 className="text-xl font-medium tracking-wider text-white">KMBOX Setup</h2>
                    </div>
                    
                    <p className="mb-4 text-gray-300">
                      Select a KMBOX setup guide from the menu on the left:
                    </p>
                    
                    <ul className="list-none space-y-3 mt-6 pl-0">
                      <li className="flex items-center gap-3">
                        <div className="w-2 h-2 border border-white/50 rounded-full"></div>
                        <a 
                          className="text-sm text-white hover:text-gray-300 cursor-pointer"
                          onClick={() => setSelectedSection('kmbox_net')}
                        >
                          KMBOX NET
                        </a>
                </li>
                      <li className="flex items-center gap-3">
                        <div className="w-2 h-2 border border-white/50 rounded-full"></div>
                        <a 
                          className="text-sm text-white hover:text-gray-300 cursor-pointer"
                          onClick={() => setSelectedSection('kmbox_bplus')}
                        >
                          KMBOX B+
                        </a>
                </li>
                    </ul>
            </div>
                )}

                {selectedSection === 'kmbox_net' && (
                  <div className="space-y-6 text-gray-300 leading-relaxed font-light">
                    <div className="flex items-center gap-2 mb-4">
                      <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-white/70" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01" />
                      </svg>
                      <h2 className="text-xl font-medium tracking-wider text-white">Kmbox Net Guide</h2>
                    </div>
                    
                    <p className="mb-4 text-gray-300">
                      Manual how to set up, update and spoof Kmbox Net to use it with DMA cheats and solve possible errors.
                    </p>
                    <p className="mb-4 text-gray-300">
                      This guide will not work for Kmbox B Pro.
                    </p>
                    <p className="mb-4 text-gray-300">
                      You can buy our Kmbox here — <a href="https://www.dma-cheats.com/kmbox" className="text-blue-400 hover:underline">https://www.dma-cheats.com/kmbox</a>
                    </p>
                    
                    <div className="my-6">
                      <div className="rounded border border-white/10 p-4 bg-black/30 max-w-xl mx-auto">
                        <img 
                          src="/images/0.avif" 
                          alt="Kmbox Net Device" 
                          className="max-w-full h-auto"
                        />
                      </div>
                    </div>
                    
                    <h3 className="text-lg font-medium text-white my-6">Connecting Kmbox Net</h3>
                    
                    <ul className="list-disc ml-6 space-y-2 mb-6">
                      <li>Download and keep the DMA Cheats folder on your Second PC.</li>
                      <li>Download to the Main PC only those files that should be running on the Main PC according to the instructions.</li>
                      <li>Don't download and don't run DMA cheats on the Main PC.</li>
                    </ul>
                    
                    <ol className="list-decimal ml-6 space-y-6">
                      <li>
                        <div>Connect the Kmbox according to the picture below</div>
                        <div className="my-4">
                          <div className="rounded border border-white/10 p-4 bg-black/30 max-w-xl mx-auto">
                            <img 
                              src="/images/1.avif" 
                              alt="Kmbox Net Connection Diagram" 
                              className="max-w-full h-auto"
                            />
                          </div>
                        </div>
                        <div className="mt-4 mb-6">
                          <p>After you connected kmbox it should show this image on the screen</p>
                          <div className="my-4">
                            <div className="rounded border border-white/10 p-4 bg-black/30 max-w-xl mx-auto">
                              <img 
                                src="/images/2.avif" 
                                alt="Kmbox Net Screen Display" 
                                className="max-w-full h-auto"
                              />
                            </div>
                          </div>
                        </div>
                </li>
                      
                      <li>
                        <div className="flex items-start">
                          <span>Run <span className="bg-gray-800 rounded px-1 py-0.5 font-mono text-sm">2_WCHUSBNIC</span> as admin on second PC (and all next steps do on second PC)</span>
                        </div>
                        <div className="my-4">
                          <div className="rounded border border-white/10 p-4 bg-black/30 max-w-xl mx-auto">
                            <img 
                              src="/images/3.avif" 
                              alt="WCHUSBNIC Icon" 
                              className="max-w-full h-auto"
                            />
                          </div>
                        </div>
                </li>
                      
                      <li>
                        <div>Select INSTALL</div>
                        <div className="my-4">
                          <div className="rounded border border-white/10 p-4 bg-black/30 max-w-xl mx-auto">
                            <img 
                              src="/images/4.avif" 
                              alt="Install Driver" 
                              className="max-w-full h-auto"
                            />
                          </div>
                        </div>
                </li>
                      
                      <li>
                        <div>You should see a Driver Install Success!</div>
                        <div className="my-4">
                          <div className="rounded border border-white/10 p-4 bg-black/30 max-w-xl mx-auto">
                            <img 
                              src="/images/5.avif" 
                              alt="Driver Install Success" 
                              className="max-w-full h-auto"
                            />
                          </div>
                        </div>
                </li>
                      
                      <li>
                        <div>Reboot second PC</div>
                </li>
                      
                      <li>
                        <div>Make sure that your main and second PCs are connected to the same local network (for example, your home Wi-Fi)</div>
                </li>
                      
                      <li>
                        <div>Open Control Panel on your second PC</div>
                        <div className="my-4">
                          <div className="rounded border border-white/10 p-4 bg-black/30 max-w-xl mx-auto">
                            <img 
                              src="/images/6.avif" 
                              alt="Control Panel" 
                              className="max-w-full h-auto"
                            />
            </div>
                        </div>
                      </li>
                      
                      <li>
                        <div>Go to Network and Internet</div>
                        <div className="my-4">
                          <div className="rounded border border-white/10 p-4 bg-black/30 max-w-xl mx-auto">
                            <img 
                              src="/images/7.avif" 
                              alt="Network and Internet" 
                              className="max-w-full h-auto"
              />
            </div>
                        </div>
                      </li>
                      
                      <li>
                        <div>Go to Network and Sharing Center</div>
                        <div className="my-4">
                          <div className="rounded border border-white/10 p-4 bg-black/30 max-w-xl mx-auto">
                            <img 
                              src="/images/8.avif" 
                              alt="Network and Sharing Center" 
                              className="max-w-full h-auto"
                            />
          </div>
                        </div>
                      </li>
                      
                      <li>
                        <div>Open Change adapter settings</div>
                        <div className="my-4">
                          <div className="rounded border border-white/10 p-4 bg-black/30 max-w-xl mx-auto">
                            <img 
                              src="/images/9.avif" 
                              alt="Change adapter settings" 
                              className="max-w-full h-auto"
                            />
                          </div>
                        </div>
                      </li>
                      
                      <li>
                        <div>
                          <p>If you have done everything correctly, you will see a device with a description of "USB 2.0 Ethernet Adapter".</p>
                          <p>If you don't see this device, disconnect and reconnect the cable from the Kmbox to the second PC.</p>
                          <p>Right-click on this device and go to Properties.</p>
                        </div>
                        <div className="my-4">
                          <div className="rounded border border-white/10 p-4 bg-black/30 max-w-xl mx-auto">
                            <img 
                              src="/images/10.avif" 
                              alt="Network Properties" 
                              className="max-w-full h-auto"
                            />
                          </div>
                        </div>
                </li>
                      
                      <li>
                        <div>Make sure "Internet Protocol Version 6 (TCP/IPv6)" is disabled</div>
                        <div className="my-4">
                          <div className="rounded border border-white/10 p-4 bg-black/30 max-w-xl mx-auto">
                            <img 
                              src="/images/11.avif" 
                              alt="IPv6 Disabled" 
                              className="max-w-full h-auto"
                            />
                          </div>
                        </div>
                </li>
                      
                      <li>
                        <div>Make sure "Internet Protocol Version 4 (TCP/IPv4)" is enabled. Click on it and go to Properties</div>
                        <div className="my-4">
                          <div className="rounded border border-white/10 p-4 bg-black/30 max-w-xl mx-auto">
                            <img 
                              src="/images/12.avif" 
                              alt="IPv4 Enabled" 
                              className="max-w-full h-auto"
                            />
                          </div>
                        </div>
                </li>
                      
                      <li>
                        <div>
                          <p>Set the properties to look exactly like this:</p>
                          <ul className="list-none space-y-1 mt-1 ml-2">
                            <li className="flex items-center">
                              <span className="text-yellow-400 font-mono mr-2">•</span>
                              <span>IP address: <span className="text-cyan-300 font-mono">192.168.2.100</span></span>
                </li>
                            <li className="flex items-center">
                              <span className="text-yellow-400 font-mono mr-2">•</span>
                              <span>Subnet mask: <span className="text-cyan-300 font-mono">255.255.255.0</span></span>
                </li>
                            <li className="flex items-center">
                              <span className="text-yellow-400 font-mono mr-2">•</span>
                              <span>Leave the other fields empty</span>
                </li>
                            <li className="flex items-center">
                              <span className="text-yellow-400 font-mono mr-2">•</span>
                              <span>And click OK</span>
                </li>
                          </ul>
                        </div>
                        <div className="my-4">
                          <div className="rounded border border-white/10 p-4 bg-black/30 max-w-xl mx-auto">
                            <img 
                              src="/images/13.avif" 
                              alt="IP Configuration" 
                              className="max-w-full h-auto"
                            />
                          </div>
                        </div>
                      </li>
                      
                      <li>
                        <div>
                          <p className="text-green-400 font-medium">Your Kmbox Net is ready to use.</p>
                          <p className="mt-2">Now, when you start a cheat for first time, you will need to enter the data from your Kmbox</p>
                        </div>
                        <div className="my-4">
                          <div className="rounded border border-white/10 p-4 bg-black/30 max-w-xl mx-auto">
                            <img 
                              src="/images/14.avif" 
                              alt="Cheat Console Connection" 
                              className="max-w-full h-auto"
                            />
                          </div>
                        </div>
                </li>
              </ol>
                    
                    <div className="rounded-lg border border-green-800/30 bg-green-900/10 px-5 py-4 mt-8">
                      <p className="text-sm text-green-400 font-medium mb-2">Success!</p>
                      <p className="text-sm text-gray-300">
                        Your Kmbox Net is now properly configured. If you encounter any issues, please make sure you've followed all steps correctly or contact our support team.
                      </p>
            </div>
                  </div>
                )}

                {selectedSection === 'kmbox_bplus' && (
                  <KmboxBProGuide />
                )}

                {selectedSection === 'dma_card' && (
                  <div className="space-y-6 text-gray-300 leading-relaxed font-light">
                    <div className="flex items-center gap-2 mb-4">
                      <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-white/70" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" />
                      </svg>
                      <h2 className="text-xl font-medium tracking-wider text-white">DMA Card</h2>
                    </div>
                    
                    <p className="text-sm italic text-gray-400 mb-4">
                      DMA Card information will be added here.
                    </p>

                    <div className="space-y-6">
                      <p>
                        DMAs come in variants: 35T, 75T, 100T-100T, and 75T-100T. These indicate the speed of your DMA card, 
                        crucial for WPM/RPM heavy features like silent aim or omni sprint. I don't recommend the 75T card due 
                        to minimal performance gains. For optimal speed, choose 100T-100T or 75T-100T. Avoid cheap Chinese DMA 
                        cards due to lack of support and reliability issues compared to Western boards.
                      </p>
                      
                      <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div className="rounded-lg border border-blue-800/20 bg-blue-900/10 p-4">
                          <h3 className="text-blue-400 font-medium mb-2">35T Card</h3>
                          <p className="mb-2">Recommended: Lambda Concept Screamer PCIe Squirrel (reliable with great support)</p>
                          <p className="text-sm text-gray-400">Average speed: 150 - 200 MBPS</p>
                        </div>
                        
                        <div className="rounded-lg border border-yellow-800/20 bg-yellow-900/10 p-4">
                          <h3 className="text-yellow-400 font-medium mb-2">75T Card</h3>
                          <p className="mb-2">Recommended: None (not worth the money)</p>
                          <p className="text-sm text-gray-400">Average Speed: 250-300 MBPS</p>
                        </div>
                        
                        <div className="rounded-lg border border-green-800/20 bg-green-900/10 p-4">
                          <h3 className="text-green-400 font-medium mb-2">100T Card</h3>
                          <p className="mb-2">Recommended: ZDMA (currently the only source for such boards)</p>
                          <p className="text-sm text-gray-400">Speed: 800 - 1050 MBPS</p>
                        </div>
                      </div>
                      
                      <div className="bg-red-900/10 border border-red-800/20 rounded-lg p-4 mt-4">
                        <div className="flex items-start">
                          <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-red-400 mt-0.5 mr-2 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                          </svg>
                          <p className="text-sm text-red-300">
                            Warning: Avoid cheap Chinese DMA cards as they often lack proper support and have reliability issues compared to Western boards.
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                )}

                {selectedSection === 'development' && (
                  <div className="space-y-6 text-gray-300 leading-relaxed font-light">
                    <div className="flex items-center gap-2 mb-4">
                      <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                      </svg>
                      <h2 className="text-lg font-light tracking-wider text-white">Development</h2>
                    </div>
                    
                    <div className="flex flex-col items-center justify-center py-8">
                      <h3 className="text-xl font-bold text-center mb-6 text-yellow-400">
                        Just buy our Firmware and don't waste time learning to code DMA Firmware
                      </h3>
                      
                      <div className="max-w-md border-2 border-yellow-500/30 rounded-lg overflow-hidden shadow-[0_0_15px_rgba(234,179,8,0.2)]">
                        <img 
                          src="/images/Tom and Jerry.gif" 
                          alt="Tom and Jerry Programming Meme" 
                          className="w-full h-auto"
              />
            </div>
            
                      <p className="mt-6 text-sm text-gray-400 max-w-md text-center">
                        Save yourself hundreds of hours of debugging and frustration. 
                        Our team has already done the hard work so you don't have to!
                      </p>
          </div>
        </div>
                )}

                {selectedSection === 'firmwares' && (
                  <div className="space-y-6 text-gray-300 leading-relaxed font-light">
                    <div className="flex items-center gap-2 mb-4">
                      <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" />
                      </svg>
                      <h2 className="text-lg font-light tracking-wider text-white">Firmware Flash Guides</h2>
                    </div>
                    
                    <p className="mb-8 text-center text-gray-300 leading-relaxed">
                      For firmware installation and updates, please navigate to our comprehensive Flashing Guides section using the button below.
                    </p>
                    
                    <div className="mt-8 text-center">
                      <button 
                        onClick={onBack}
                        className="px-4 py-2 bg-yellow-600/30 hover:bg-yellow-600/50 text-white rounded transition-colors flex items-center mx-auto"
                      >
                        <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                          <path d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" />
                        </svg>
                        Go to Flash Guides
                      </button>
                    </div>
                  </div>
                )}
              </div>
            </div>
          </div>
          
          {/* Back button styled like the screenshot */}
          <div className="absolute bottom-12 left-6 z-20">
            <button 
              onClick={onBack}
              className="flex items-center gap-1 text-orange-500 hover:text-orange-400 transition-colors font-bold text-lg"
            >
              <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
                <path strokeLinecap="round" strokeLinejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
              </svg>
              <span className="font-mono">Back</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  );
};

// Export GameSettingsUI for use from the navbar
export { GameSettingsUI };

const Guides: React.FC = () => {
  // State for active category
  const [activeCategory, setActiveCategory] = useState<'flash' | 'troubleshooting'>('flash');
  
  // Flash guides data
  const flashGuides: Guide[] = [
    {
      id: '35t-flash-guide',
      title: '35T Captain Flash Guide',
      subtitle: 'Complete guide to flash your 35T Captain firmware',
      category: 'flash',
      content: <div>Flash guide content for 35T Captain</div>,
    },
    {
      id: 'squirrel-flash-guide',
      title: 'Squirrel / MVP Flash Guide',
      subtitle: 'Complete guide to flash your Squirrel or MVP firmware',
      category: 'flash',
      content: <div>Flash guide content for Squirrel/MVP</div>,
    }
  ];

  // Troubleshooting guides data
  const troubleshootingGuides: Guide[] = [
    {
      id: 'vgk-error',
      title: 'PC stuck on boot with VGK error',
      subtitle: 'Firmware driver most likely interrupted with real WiFi card or loaded wrong drivers',
      category: 'troubleshooting',
      content: <div>Troubleshooting guide for VGK error</div>,
    },
    {
      id: 'speed-test',
      title: 'Speed test not working',
      subtitle: 'Most likely driver not loaded (yellow error in Device Manager)',
      category: 'troubleshooting',
      content: <div>Troubleshooting guide for speed test issues</div>,
    }
  ];

  // Filter guides based on active category
  const guides = activeCategory === 'flash' ? flashGuides : troubleshootingGuides;
  
  // State for showing game settings UI
  const [showGameSettings, setShowGameSettings] = useState(false);

  // Handle back button click
  const handleBack = () => setShowGameSettings(false);

  // Render game settings UI if showGameSettings is true
  if (showGameSettings) {
    return <GameSettingsUI onBack={handleBack} />;
  }

  return (
    <div className="max-w-4xl mx-auto px-4 py-12">
      <div className="text-center mb-6">
        <h1 className="text-4xl font-bold text-white mb-2">DIVINER Guides</h1>
        <p className="text-gray-400 text-lg">
          Flash guides and troubleshooting solutions for DIVINER products
        </p>
      </div>

      {/* Category Tabs */}
      <div className="flex justify-center mb-8">
        <div className="bg-black/30 border border-gray-800/50 rounded-xl overflow-hidden flex flex-wrap">
          <button
            className={`px-6 py-3 flex items-center gap-2 relative transition-all ${
              activeCategory === 'flash' 
                ? 'bg-gradient-to-br from-yellow-600/30 to-yellow-800/10 text-white' 
                : 'text-gray-400 hover:text-gray-200'
            }`}
            onClick={() => setActiveCategory('flash')}
          >
            <svg 
              xmlns="http://www.w3.org/2000/svg" 
              className="h-5 w-5" 
              viewBox="0 0 20 20" 
              fill={activeCategory === 'flash' ? '#FFD700' : 'currentColor'}
            >
              <path d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" />
            </svg>
            <span className="text-base font-medium">Flash Guides</span>
          </button>
          
          <button
            className={`px-6 py-3 flex items-center gap-2 relative transition-all ${
              activeCategory === 'troubleshooting' 
                ? 'bg-gradient-to-br from-cyan-600/30 to-cyan-800/10 text-white' 
                : 'text-gray-400 hover:text-gray-200'
            }`}
            onClick={() => setActiveCategory('troubleshooting')}
          >
            <svg 
              xmlns="http://www.w3.org/2000/svg" 
              className="h-5 w-5" 
              viewBox="0 0 20 20" 
              fill={activeCategory === 'troubleshooting' ? '#00BFFF' : 'currentColor'}
            >
              <path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 100-2 1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clipRule="evenodd" />
            </svg>
            <span className="text-base font-medium">Troubleshooting</span>
          </button>
          
          <button
            className="px-6 py-3 flex items-center gap-2 relative transition-all text-gray-400 hover:text-gray-200 bg-gradient-to-br from-blue-600/30 to-blue-800/10"
            onClick={() => setShowGameSettings(true)}
          >
            <svg 
              xmlns="http://www.w3.org/2000/svg" 
              className="h-5 w-5" 
              viewBox="0 0 20 20" 
              fill="currentColor"
            >
              <path d="M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z" />
            </svg>
            <span className="text-base font-medium">Amateur</span>
          </button>
        </div>
      </div>
      
      {/* Category Description */}
      <div className="text-center mb-8">
            {activeCategory === 'flash' ? (
              <p className="text-gray-300 max-w-2xl mx-auto">
                Step-by-step guides for flashing firmware on different DIVINER hardware models. 
                Select your device model below to see detailed instructions.
              </p>
            ) : (
              <p className="text-gray-300 max-w-2xl mx-auto">
                Solutions for common issues with DIVINER products. If you can't find what you need, 
                contact our support team.
              </p>
            )}
      </div>
      
      {/* Category Header */}
      <h2
        className={`text-2xl font-bold mb-8 ${
          activeCategory === 'flash' 
            ? 'text-yellow-500 drop-shadow-[0_0_8px_rgba(234,179,8,0.3)]' 
            : 'text-cyan-500 drop-shadow-[0_0_8px_rgba(6,182,212,0.3)]'
        } flex items-center`}
      >
        {activeCategory === 'flash' ? (
          <>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              className="h-7 w-7 mr-2 text-yellow-500"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" />
            </svg>
            Firmware Flash Guides
          </>
        ) : (
          <>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              className="h-7 w-7 mr-2 text-cyan-500"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 100-2 1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clipRule="evenodd" />
            </svg>
            Troubleshooting Guides
          </>
        )}
      </h2>

      {/* Guides List */}
          <div>
            {guides.map((guide) => (
              <GuideItem key={guide.id} guide={guide} />
            ))}
          </div>
      
      {/* Support CTA Card */}
      {activeCategory === 'troubleshooting' && (
        <div className="mt-12 bg-black/60 border border-cyan-500/20 rounded-lg p-8 text-center">
          <h2 className="text-xl font-semibold mb-3">Need more help?</h2>
          <p className="mb-6 text-gray-400">
            Our support team is available to assist with any complex issues not covered in these guides.
          </p>
          <button className="px-6 py-2 bg-cyan-600/30 hover:bg-cyan-600/50 text-cyan-100 rounded-md transition-colors flex items-center mx-auto">
            <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
              <path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clipRule="evenodd" />
            </svg>
            Contact Support
          </button>
        </div>
      )}
    </div>
  );
};

export default Guides; 